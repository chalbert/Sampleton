@import 'reset'
@import 'nib'
@import 'mixins'
@import 'logo'
@import 'searchbox'
@import 'controls'
@import 'records'
@import 'list'
@import 'item-list'
@import 'project-list'
@import 'messenger'
@import 'nav-top'
@import 'templates'

btn()
  display inline-block
  padding 4px 10px 4px 10px
  border-radius 40px
  background #c47d30
  box-shadow inset 0 0 5px #f0daa2, 0 0 3px #693f12
  cursor pointer
  type 14px #fff
  position relative

  &:hover
    box-shadow inset 0 0 6px #fff, 0 0 3px #693f12

  //&:active
  //  background #f0daa2


a
  cursor pointer

menu, nav
  li
    list-style none
    margin 0

body, input
  font-family "Lucida Sans Unicode", "Lucida Grande", sans-serif

body
  background #7d6646 url(../images/bg-leather.jpg)

input, textarea, [contenteditable]
  &:focus
    box-shadow 0 0 5px #ffde00
    borders #ffcc00
    outline none
    outline-offset 0

h1[contenteditable], h1 [contenteditable]
  &:not(:focus):hover
    margin -1px
    borders #ddd dashed

.field-simple
  borders #ddd
  border-radius 4px
  font-size 14px
  margin-bottom 10px
  padding 0
  margin 0

.discrete
  padding 0 4px
  margin 0
  borders #ddd dashed
  -webkit-appearance: none;
  outline none

.field-invisible
  padding 0
  margin 0
  -webkit-appearance: none;
  outline none
  border 0
  border-spacing 0

#logo
  logo()

.messenger
  absolute left 50% top 25px
  width 400px
  margin-left (-@width / 2) + 30

#container
  pos absolute 0
  min-size 500px 388px
  padding 10px 30px
  box-shadow inset 0 0 10px #c0b28b
  overflow hidden

#sampleton
  position relative
  size 100% 100%

h1
  font-size $very-large
  width 40%
  min-height 25px
  max-height 50px
  margin 0 0 8px 0

  &:focus
    margin -1px

.content
  pos absolute 54px 0 20px 0
  background #fff
  box-shadow inset 0 0 6px #99, 0 0 4px #666
  border-radius 10px
  border 8px #da9c39 solid
  z-index 10
  transition bottom .35s
  -webkit-tap-highlight-color transparent

  &.view-project
    pos absolute 54px 0 85px 0

  &:after
    content ''
    display block
    pos absolute -8px
    border-radius 10px
    box-shadow inset 0 0 10px #fff
    z-index 4
  &:before
    content ''
    display block
    pos absolute 0
    box-shadow 0 0 4px #c47d30
    z-index 5

.btn-back
  btn()
  padding 4px 10px 4px 25px

  &:after
    content ''
    absolute left 11px top 5px
    block 0
    borders top bottom 6px transparent right 6px #fff
    opacity .75

.btn-template
  btn()
  padding 4px 10px 4px 30px
  background-image url(/images/template.png)
  background-repeat no-repeat
  background-position 7px -1px
  background-size 23px 23px

.btn-delete
  padding 0 7px
  border-radius 10px
  background #c01a04
  box-shadow inset 0 0 5px #f0daa2, 0 0 3px #693f12
  cursor pointer
  type 12px #fff

  &:hover
    box-shadow inset 0 0 6px #fff, 0 0 3px #693

.btn-confirm
  padding 0 7px
  border-radius 10px
  background #0e8108
  box-shadow inset 0 0 5px #f0daa2, 0 0 3px #693f12
  cursor pointer
  type 12px #fff

  &:hover
    box-shadow inset 0 0 6px #fff, 0 0 3px #693

.ui-sortable-helper
  dragging()

#shortcuts
  pos absolute auto 38px -9px 38px
  color #fdf605
  font-size 11px
  text-shadow 1px 1px 1px #333
  text-align center
  opacity .5
  cursor pointer
  z-index 200000

  .shortcut
    display inline

  ul
    padding 2px 4px

  .description
    color #eee

  &:hover
    opacity 1

    ul
      display inline-block
      background rgba(0, 0, 0, .25)
      border-radius 3px

  &.expanded
    pos absolute 38px 38px 38px 38px
    font-size 14px

    opacity 1

    .shortcut
      display block

    ul
      border-radius 12px
      box-shadow 0 0  20px #333
      pos absolute 0 0 0 0
      background rgba(0, 0, 0, .65)
      padding 20px

#tooltip
  padding 1px 3px
  type #1b4761 14px center
  background: linear-gradient(top, #FFF693, #efe46a);
  color #333
  box-shadow 2px 2px 5px #666
  line-height 1.3
  max-width 140px
  margin 1px 0 0 -5px
  // short term to fix antialias problem
  -webkit-backface-visibility hidden
  -webkit-transition -webkit-transform .2s, opacity .2s, margin .2s
  -moz-transition -moz-transform .2s, opacity .2s, margin .2s
  transform rotate(-15deg)
  vendor transform-origin 100% 100%;
  opacity 0

  &.opened
    margin 0 0 0 -2px
    transform rotate(-5deg)
    opacity 1

.help-box
  background: linear-gradient(top, rgba(255, 246, 147, .7), rgba(239, 228, 106, .85));
  padding 2px 2px 2px 25px
  font-size 11px
  border-radius 4px
  box-shadow 2px 2px 5px #666
  min-height 20px
  max-width 140px

  &:after
    content '?'
    background rgba(255, 255, 255, .8)
    font-size 15px
    borders 2px #e5d84b
    border-radius 20px
    block 18px
    text-align center
    absolute left 1px top 50%
    margin-top -11px
    line-height: 1.2;
    text-indent: 2px;
    font-weight: bold;
    color #555
